$(document).ready(function(){
	var myElement = document.getElementById('myElement');
	// workable verion
	var first = new Hammer(myElement);
	first.add( new Hammer.Pan({ event:"panleft",direction: Hammer.DIRECTION_LEFT, threshold: 0 }) );
	first.add( new Hammer.Pan({ event:"pandown",direction: Hammer.DIRECTION_DOWN, threshold: 0 }) );
	first.add( new Hammer.Tap({ event: 'tap', taps: 1 }) );
	var counter;
	first.on("panleft pandown tap", check);
	// Have a counter to keep track of what is clicked.
	counter = 0;
	function check(event){
		// console.log(event.type);
		if (event.type == "panleft" && counter == 0){
			myElement.textContent = "left pan" +" gesture detected.";
			console.log("aa");
			counter = 5;
		}else if (event.type == "pandown" && counter ==5){
			myElement.textContent = "left pan" +"and down pan gesture detected.";
			console.log("bb");
			counter = 10;
		}else if (event.type =="tap" && counter ==10){
			myElement.textContent = "left, down pan and tap gestures are detected.";
			counter = 20;
			console.log("cc");

			// connects with a model object in the backend
			$.post('/alerts#create',
				{alert:{address:"500 College Ave",city:"Swarthmore", state:"PA", content:"Emergency help!"} },
				function(){
					alert("Your message is sent");
			});

			// connects with an action method in message controller and it doesn't need a view
			$.ajax({type:'GET',
					url:'/sendMessage',
					success:function(){
						console.log("ajax successfully submitted");
					}
			});

		}
	}




});
